# Реализация параллельного алгоритма Дейкстры 
(от всех вершин ко всем вершинам)

## Краткое описание

Реализован параллельный метод получения матрицы кратчайших путей (APSP) для невзвешенного/взвешенного неориентированного графа без отрицательных рёбер. При решении APSP используется стратегия **независимого параллельного запуска алгоритма Дейкстры** для каждой вершины-источника. Параллельность реализована средствами OpenMP (параллелизация внешнего цикла по источникам).

Цель: исследовать эффективность распараллеливания независимых запуска Дейкстры на общем доступе памяти и оценить масштабируемость на многопоточном процессе.

---

## 2. Инструкция по сборке и запуску
### Требования
- Компилятор GCC или Clang с поддержкой OpenMP (проверено на **GCC 13.3.0 (Ubuntu 13.3.0-6ubuntu2~24.04)**)

### Сборка
`gcc -fopenmp ./src/dijkstraomp.c -o ./src/dijkstraompp`

### Запуск
`./dijkstra <количество_потоков> [<файл>]` 

Пример: `./src/dijkstraomp 2 ./src/test_graphs/graph_10.txt`

### Примечания
- Программа формирует случайный симметричный граф размером `N×N`, диагональ = 0. По умолчанию используется фиксированное семя генератора (`srand(13517143)`) для воспроизводимости измерений.
    
- Количество потоков указывается явно; рекомендуется выбирать число потоков ≤ числу аппаратных ядер.
    
- Аргументы проверяются — при неверном вводе программа выводит сообщение и завершает работу с кодом 1.
    

---

## 3. Измерения производительности для тестовых случаев (размер графа N) по сравнению с последовательной реализацией Dijkstra  
Время приведено в миллисекундах (ms).

1. **N = 100**
    - 10.881859 ms, 1 ядро
    - 5.276659 ms, 2 ядра
    - 3.647711 ms, 4 ядра
        
2. **N = 500**
    - 868.263678 ms, 1 ядро
    - 446.347324 ms, 2 ядра
    - 237.445726 ms, 4 ядра
        
3. **N = 1000**
    - 6561.422946 ms, 1 ядро
    - 2985.209061 ms, 2 ядра
    - 1710.833364 ms, 4 ядра



## 4. Алгоритмическая часть (проект и реализация)
### Представление графа
Граф хранится в виде матрицы смежности `int **graph` размера `N × N`. Такой формат требует `O(N²)` памяти и удобен для плотных графов: проверка и доступ к весу ребра — `O(1)`.

### Вычислительная стратегия APSP
APSP решается запуском алгоритма Дейкстры `N` раз — по одному запуску с каждой вершины как исходной. Каждый запуск возвращает массив расстояний `dist[0..N-1]`; затем эти векторы собираются в результирующую матрицу `shortestPaths[N][N]`.

### Параллелизация
Параллелится внешний цикл по источникам:

```C
#pragma omp parallel for num_threads(threadCount) 
for (int i = 0; i < N; ++i) {
     shortestPaths[i] = dijkstra(graph, i, N); 
}
```

Каждый поток выполняет независимый алгоритм Дейкстры и записывает результат в уникальную строку `shortestPaths[i]`, синхронизация при этом минимальна.
